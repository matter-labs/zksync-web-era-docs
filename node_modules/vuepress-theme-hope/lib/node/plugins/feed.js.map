{"version":3,"file":"feed.js","sourceRoot":"","sources":["../../../src/node/plugins/feed.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,uBAAuB,CAAC;AACnD,OAAO,EAAE,SAAS,EAAE,MAAM,sBAAsB,CAAC;AAMjD,MAAM,CAAC,MAAM,aAAa,GAAG,CAC3B,SAAoB,EACpB,OAAuC,EACvC,QAAiB,EACjB,MAAM,GAAG,KAAK,EACC,EAAE;IACjB,6CAA6C;IAC7C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,MAAM;QAAE,OAAO,IAAI,CAAC;IAEpD,OAAO,UAAU;IACf,aAAa;IACb,SAAS,CACP;QACE,QAAQ;QACR,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,SAAS,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;QACzD,OAAO,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,GAAG,CAC5C,CAAC,CAAC,UAAU,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,EAAE,EAAE,CAAC;YACvC,UAAU;YACV,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,SAAS,EAAE,EAAE;SACnC,CACF;KACF,EACD,OAAO,IAAI,EAAE,EACb;QACE,cAAc,EAAE;YACd,iCAAiC;YACjC,kBAAkB;YAElB,6BAA6B;YAC7B,OAAO;YACP,UAAU;YACV,SAAS;YACT,KAAK;YACL,YAAY;YACZ,aAAa;YACb,SAAS;YAET,6BAA6B;YAC7B,SAAS;YACT,UAAU;YACV,UAAU;YACV,SAAS;YACT,WAAW;YACX,SAAS;YACT,YAAY;YACZ,cAAc;YACd,MAAM;YACN,eAAe;YACf,GAAG,CAAC,OAAO,EAAE,cAAc,IAAI,EAAE,CAAC;SACnC;KACF,CACF,EACD,MAAM,CACP,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { feedPlugin } from \"vuepress-plugin-feed2\";\nimport { deepMerge } from \"vuepress-shared/node\";\n\nimport type { Plugin } from \"@vuepress/core\";\nimport type { FeedOptions } from \"vuepress-plugin-feed2\";\nimport type { ThemeData } from \"../../shared/index.js\";\n\nexport const getFeedPlugin = (\n  themeData: ThemeData,\n  options?: Omit<FeedOptions, \"hostname\">,\n  hostname?: string,\n  legacy = false\n): Plugin | null => {\n  // disable feed if no options for feed plugin\n  if (!Object.keys(options || {}).length) return null;\n\n  return feedPlugin(\n    // @ts-ignore\n    deepMerge(\n      {\n        hostname,\n        ...(themeData.author ? { author: themeData.author } : {}),\n        locales: Object.entries(themeData.locales).map(\n          ([localePath, { author, copyright }]) => [\n            localePath,\n            { author, channel: { copyright } },\n          ]\n        ),\n      },\n      options || {},\n      {\n        customElements: [\n          // @vuepress/plugin-external-link\n          \"ExternalLinkIcon\",\n\n          // vuepress-plugin-components\n          \"Badge\",\n          \"BiliBili\",\n          \"CodePen\",\n          \"PDF\",\n          \"StackBlitz\",\n          \"VideoPlayer\",\n          \"YouTube\",\n\n          // vuepress-plugin-md-enhance\n          \"ChartJS\",\n          \"CodeDemo\",\n          \"CodeTabs\",\n          \"ECharts\",\n          \"FlowChart\",\n          \"Mermaid\",\n          \"Playground\",\n          \"Presentation\",\n          \"Tabs\",\n          \"VuePlayground\",\n          ...(options?.customElements || []),\n        ],\n      }\n    ),\n    legacy\n  );\n};\n"]}