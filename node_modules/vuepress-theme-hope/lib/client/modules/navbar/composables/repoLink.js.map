{"version":3,"file":"repoLink.js","sourceRoot":"","sources":["../../../../../src/client/modules/navbar/composables/repoLink.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAC;AAC9C,OAAO,EAAE,QAAQ,EAAE,MAAM,KAAK,CAAC;AAE/B,OAAO,EAAE,kBAAkB,EAAE,MAAM,+BAA+B,CAAC;AACnE,OAAO,EAAE,eAAe,EAAE,MAAM,yBAAyB,CAAC;AAW1D;;GAEG;AACH,MAAM,CAAC,MAAM,aAAa,GAAG,GAAmC,EAAE;IAChE,MAAM,WAAW,GAAG,kBAAkB,EAAE,CAAC;IAEzC,MAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC;IAC5D,MAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,EAAE,CAC7B,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAChD,CAAC;IAEF,MAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,EAAE,CAC7B,IAAI,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC;QACnC,CAAC,CAAC,sBAAsB,IAAI,CAAC,KAAK,EAAE;QACpC,CAAC,CAAC,IAAI,CAAC,KAAK,CACf,CAAC;IAEF,MAAM,SAAS,GAAG,QAAQ,CAAC,GAAG,EAAE,CAC9B,CAAC,QAAQ,CAAC,KAAK;QACb,CAAC,CAAC,IAAI;QACN,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS;YAC3B,CAAC,QAAQ,CAAC,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAC1D,CAAC;IAEF,OAAO,QAAQ,CAAC,GAAG,EAAE;QACnB,IACE,CAAC,QAAQ,CAAC,KAAK;YACf,CAAC,SAAS,CAAC,KAAK;YAChB,WAAW,CAAC,KAAK,CAAC,WAAW,KAAK,KAAK;YAEvC,OAAO,IAAI,CAAC;QAEd,OAAO;YACL,IAAI,EAAE,QAAQ,CAAC,KAAK,IAAI,QAAQ;YAChC,KAAK,EAAE,SAAS,CAAC,KAAK;YACtB,IAAI,EAAE,QAAQ,CAAC,KAAK;SACrB,CAAC;IACJ,CAAC,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["import { isLinkHttp } from \"@vuepress/shared\";\nimport { computed } from \"vue\";\n\nimport { useThemeLocaleData } from \"@theme-hope/composables/index\";\nimport { resolveRepoType } from \"@theme-hope/utils/index\";\n\nimport type { ComputedRef } from \"vue\";\nimport type { RepoType } from \"@theme-hope/utils/index\";\n\nexport interface RepoConfig {\n  type: Exclude<RepoType, null> | \"Source\";\n  label: string;\n  link: string;\n}\n\n/**\n * Get navbar config of repository link\n */\nexport const useNavbarRepo = (): ComputedRef<RepoConfig | null> => {\n  const themeLocale = useThemeLocaleData();\n\n  const repo = computed(() => themeLocale.value.repo || null);\n  const repoType = computed(() =>\n    repo.value ? resolveRepoType(repo.value) : null\n  );\n\n  const repoLink = computed(() =>\n    repo.value && !isLinkHttp(repo.value)\n      ? `https://github.com/${repo.value}`\n      : repo.value\n  );\n\n  const repoLabel = computed(() =>\n    !repoLink.value\n      ? null\n      : themeLocale.value.repoLabel ??\n        (repoType.value === null ? \"Source\" : repoType.value)\n  );\n\n  return computed(() => {\n    if (\n      !repoLink.value ||\n      !repoLabel.value ||\n      themeLocale.value.repoDisplay === false\n    )\n      return null;\n\n    return {\n      type: repoType.value || \"Source\",\n      label: repoLabel.value,\n      link: repoLink.value,\n    };\n  });\n};\n"]}