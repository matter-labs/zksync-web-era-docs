{"version":3,"file":"Pagination.js","sourceRoot":"","sources":["../../../../../src/client/modules/blog/components/Pagination.ts"],"names":[],"mappings":"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","sourcesContent":["import { computed, defineComponent, h, onMounted, ref, VNode } from \"vue\";\nimport { Message } from \"vuepress-shared/client\";\n\nimport { useThemeLocaleData } from \"@theme-hope/composables/index\";\n\nimport \"../styles/pagination.scss\";\n\nexport default defineComponent({\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"Pagination\",\n\n  props: {\n    /**\n     * Number of total items\n     *\n     * 项目总数\n     */\n    total: { type: Number, default: 10 },\n    /**\n     * Items per page\n     *\n     * 每页项目数\n     */\n    perPage: { type: Number, default: 10 },\n\n    /**\n     * Current page number\n     *\n     * 当前页面\n     */\n    current: { type: Number, default: 1 },\n  },\n\n  emits: {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    updateCurrentPage: (_page: number) => true,\n  },\n\n  setup(props, { emit }) {\n    let message: Message;\n    const themeLocale = useThemeLocaleData();\n\n    const input = ref(\"\");\n\n    const locale = computed(() => themeLocale.value.paginationLocales);\n\n    const totalPages = computed(() => Math.ceil(props.total / props.perPage));\n\n    const enable = computed(\n      () => Boolean(totalPages.value) && totalPages.value !== 1\n    );\n\n    const displayLeftEllipsis = computed(() => {\n      if (totalPages.value < 7) return false;\n\n      return props.current > 4;\n    });\n    const displayRightEllipsis = computed(() => {\n      if (totalPages.value < 7) return false;\n\n      return props.current < totalPages.value - 3;\n    });\n\n    /** Page indexes */\n    const indexes = computed(() => {\n      const { current: currentPage } = props;\n      let min = 1;\n      let max = totalPages.value;\n      const arr = [];\n\n      if (totalPages.value >= 7)\n        if (currentPage <= 4 && currentPage < totalPages.value - 3) {\n          min = 1;\n          max = 5;\n        } else if (currentPage > 4 && currentPage >= totalPages.value - 3) {\n          max = totalPages.value;\n          min = totalPages.value - 4;\n        } else if (totalPages.value > 7) {\n          min = currentPage - 2;\n          max = currentPage + 2;\n        }\n\n      // Generate page index\n      for (let i = min; i <= max; i++) arr.push(i);\n\n      return arr;\n    });\n\n    /** Navigate to certain page */\n    const navigate = (page: number): void => emit(\"updateCurrentPage\", page);\n\n    /** Check and navigate to certain page */\n    const jumpPage = (index: string): void => {\n      const pageNum = parseInt(index);\n\n      if (pageNum <= totalPages.value && pageNum > 0) navigate(pageNum);\n      else\n        message.pop(\n          `<svg viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"><path d=\"M64 512a448 448 0 1 0 896 0 448 448 0 1 0-896 0Z\" fill=\"#FA5151\"/><path d=\"m557.3 512 113.1-113.1c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L512 466.7 398.9 353.6c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L466.7 512 353.6 625.1c-12.5 12.5-12.5 32.8 0 45.3 6.2 6.2 14.4 9.4 22.6 9.4s16.4-3.1 22.6-9.4L512 557.3l113.1 113.1c6.2 6.2 14.4 9.4 22.6 9.4s16.4-3.1 22.6-9.4c12.5-12.5 12.5-32.8 0-45.3L557.3 512z\" fill=\"#FFF\"/></svg>${locale.value.errorText.replace(\n            /\\$page/g,\n            totalPages.value.toString()\n          )}`\n        );\n    };\n\n    onMounted(() => {\n      message = new Message();\n    });\n\n    return (): VNode =>\n      h(\n        \"div\",\n        { class: \"pagination-wrapper\" },\n        enable.value\n          ? h(\"div\", { class: \"pagination-list\" }, [\n              h(\"div\", { class: \"page-number\" }, [\n                // prev button\n                props.current > 1\n                  ? h(\n                      \"div\",\n                      {\n                        class: \"prev\",\n                        role: \"navigation\",\n                        unselectable: \"on\",\n                        onClick: () => navigate(props.current - 1),\n                      },\n                      locale.value.prev\n                    )\n                  : null,\n\n                // left ellipsis\n                ...(displayLeftEllipsis.value\n                  ? [\n                      h(\n                        \"div\",\n                        {\n                          role: \"navigation\",\n                          onClick: () => navigate(1),\n                        },\n                        1\n                      ),\n                      h(\"div\", { class: \"ellipsis\" }, \"...\"),\n                    ]\n                  : []),\n\n                // numbers\n                ...indexes.value.map((num) =>\n                  h(\n                    \"div\",\n                    {\n                      key: num,\n                      class: { active: props.current === num },\n                      role: \"navigation\",\n                      onClick: () => navigate(num),\n                    },\n                    num\n                  )\n                ),\n\n                // right ellipsis\n                ...(displayRightEllipsis.value\n                  ? [\n                      h(\"div\", { class: \"ellipsis\" }, \"...\"),\n                      h(\n                        \"div\",\n                        {\n                          role: \"navigation\",\n                          onClick: () => navigate(totalPages.value),\n                        },\n                        totalPages.value\n                      ),\n                    ]\n                  : []),\n\n                // next button\n                props.current < totalPages.value\n                  ? h(\n                      \"div\",\n                      {\n                        class: \"next\",\n                        role: \"navigation\",\n                        unselectable: \"on\",\n                        onClick: () => navigate(props.current + 1),\n                      },\n                      locale.value.next\n                    )\n                  : null,\n              ]),\n              h(\"div\", { class: \"navigate-wrapper\" }, [\n                h(\n                  \"label\",\n                  { for: \"navigation-text\" },\n                  `${locale.value.navigate}: `\n                ),\n                h(\"input\", {\n                  id: \"navigation-text\",\n                  value: input.value,\n                  onInput: ({ target }: InputEvent) => {\n                    input.value = (<HTMLInputElement>target).value;\n                  },\n                  onKeydown: (event: KeyboardEvent) => {\n                    if (event.key === \"Enter\") {\n                      event.preventDefault();\n                      jumpPage(input.value);\n                    }\n                  },\n                }),\n                h(\n                  \"button\",\n                  {\n                    class: \"navigate\",\n                    role: \"navigation\",\n                    title: locale.value.action,\n                    onClick: () => jumpPage(input.value),\n                  },\n                  locale.value.action\n                ),\n              ]),\n            ])\n          : []\n      );\n  },\n});\n"]}