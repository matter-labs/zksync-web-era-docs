{"version":3,"file":"PageFooter.js","sourceRoot":"","sources":["../../../src/client/components/PageFooter.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,kBAAkB,EAAE,MAAM,kBAAkB,CAAC;AACtD,OAAO,EAAE,QAAQ,EAAE,eAAe,EAAE,CAAC,EAAE,MAAM,KAAK,CAAC;AAEnD,OAAO,EACL,aAAa,EACb,kBAAkB,GACnB,MAAM,+BAA+B,CAAC;AAKvC,OAAO,uBAAuB,CAAC;AAE/B,eAAe,eAAe,CAAC;IAC7B,IAAI,EAAE,YAAY;IAElB,KAAK;QACH,MAAM,WAAW,GAAG,kBAAkB,EAA8B,CAAC;QACrE,MAAM,WAAW,GAAG,kBAAkB,EAAE,CAAC;QACzC,MAAM,MAAM,GAAG,aAAa,EAAE,CAAC;QAE/B,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,EAAE;YAC3B,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,WAAW,CAAC,KAAK,CAAC;YAEhD,OAAO,CACL,MAAM,KAAK,KAAK;gBAChB,OAAO,CAAC,SAAS,IAAI,MAAM,IAAI,WAAW,CAAC,KAAK,CAAC,aAAa,CAAC,CAChE,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,MAAM,OAAO,GAAG,QAAQ,CAAC,GAAG,EAAE;YAC5B,MAAM,EAAE,MAAM,EAAE,GAAG,WAAW,CAAC,KAAK,CAAC;YAErC,OAAO,MAAM,KAAK,KAAK;gBACrB,CAAC,CAAC,KAAK;gBACP,CAAC,CAAC,OAAO,MAAM,KAAK,QAAQ;oBAC5B,CAAC,CAAC,MAAM;oBACR,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,IAAI,EAAE,CAAC;QACrC,CAAC,CAAC,CAAC;QAEH,MAAM,SAAS,GAAG,QAAQ,CAAC,GAAG,EAAE,CAC9B,WAAW,IAAI,WAAW,CAAC,KAAK;YAC9B,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS;YAC7B,CAAC,CAAC,WAAW,IAAI,WAAW,CAAC,KAAK;gBAClC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS;gBAC7B,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM;oBACrB,CAAC,CAAC,eAAe,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE;oBACnE,CAAC,CAAC,KAAK,CACV,CAAC;QAEF,OAAO,GAAiB,EAAE,CACxB,MAAM,CAAC,KAAK;YACV,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,gBAAgB,EAAE,EAAE;gBACvC,CAAC,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,CAAC,KAAK,EAAE,CAAC;gBACvD,SAAS,CAAC,KAAK;oBACb,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;wBACP,KAAK,EAAE,WAAW;wBAClB,SAAS,EAAE,SAAS,CAAC,KAAK;qBAC3B,CAAC;oBACJ,CAAC,CAAC,IAAI;aACT,CAAC;YACJ,CAAC,CAAC,IAAI,CAAC;IACb,CAAC;CACF,CAAC,CAAC","sourcesContent":["import { usePageFrontmatter } from \"@vuepress/client\";\nimport { computed, defineComponent, h } from \"vue\";\n\nimport {\n  usePageAuthor,\n  useThemeLocaleData,\n} from \"@theme-hope/composables/index\";\n\nimport type { VNode } from \"vue\";\nimport type { ThemeNormalPageFrontmatter } from \"../../shared/index.js\";\n\nimport \"../styles/footer.scss\";\n\nexport default defineComponent({\n  name: \"PageFooter\",\n\n  setup() {\n    const frontmatter = usePageFrontmatter<ThemeNormalPageFrontmatter>();\n    const themeLocale = useThemeLocaleData();\n    const author = usePageAuthor();\n\n    const enable = computed(() => {\n      const { copyright, footer } = frontmatter.value;\n\n      return (\n        footer !== false &&\n        Boolean(copyright || footer || themeLocale.value.displayFooter)\n      );\n    });\n\n    const content = computed(() => {\n      const { footer } = frontmatter.value;\n\n      return footer === false\n        ? false\n        : typeof footer === \"string\"\n        ? footer\n        : themeLocale.value.footer || \"\";\n    });\n\n    const copyright = computed(() =>\n      \"copyright\" in frontmatter.value\n        ? frontmatter.value.copyright\n        : \"copyright\" in themeLocale.value\n        ? themeLocale.value.copyright\n        : author.value.length\n        ? `Copyright Â© ${new Date().getFullYear()} ${author.value[0].name}`\n        : false\n    );\n\n    return (): VNode | null =>\n      enable.value\n        ? h(\"footer\", { class: \"footer-wrapper\" }, [\n            h(\"div\", { class: \"footer\", innerHTML: content.value }),\n            copyright.value\n              ? h(\"div\", {\n                  class: \"copyright\",\n                  innerHTML: copyright.value,\n                })\n              : null,\n          ])\n        : null;\n  },\n});\n"]}