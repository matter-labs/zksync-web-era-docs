# Перенос средств

### Введение <a href="#introduction" id="introduction"></a>

Перенос средств реализован через два контракта (один развернут на L1, второй - на L2), коммуницирующих друг с другом через интерфейс [L1 <-> L2 взаимодействия](https://v2-docs.zksync.io/dev/zksync-v2/l1-l2-interop.html).

Разработчики вольны в создании своих собственных мостов для любых токенов. Однако, мы предоставляем наши мосты по умолчанию (один для ETH и один для токенов ERC20), которые разработчики могут использовать для базового переноса средств.

<mark style="color:orange;">**ПРЕДУПРЕЖДЕНИЕ**</mark>

<mark style="color:orange;">Адреса токенов на L2 всегда отличаются от их адресов на L1.</mark>

### Мосты по умолчанию <a href="#default-bridges" id="default-bridges"></a>

Вы можете узнать адреса мостов по умолчанию с помощью конечной точки `zks_getBridgeContracts` или метода `getDefaultBridgeAddresses` `Provider`'a в нашем JS SDK.

#### Депозиты <a href="#deposits" id="deposits"></a>

Пользователь совершает транзакцию в пользу моста на L1 путем вызова метода `deposit`. Затем исполняются следующие действия:

* Токены на L1 отправляются в мост на L1 и блокируются в нем.
* Мост на L1 инициирует транзакцию в пользу моста на L2, используя L1 -> L2 коммуникацию.

В рамках  транзакции на L2 токены минтятся и отправляются на указанный адрес на L2.

Для каждой исполненной L1 -> L2 транзакции всегда будет отправлено лог-сообщение L2 -> L1, подтверждающее ее исполонение.

Если транзакция проваливается по любой из причин (например, оплаченная комиссия слишком низкая), тогда лог-сообщение констатирует ее провал. В этом случае включение лог-сообщения в блок можеть быть доказано на мосту на L1. Эту нужно для того, чтобы вернуть депонированные средства назад.

Лог-сообщение, описанное выше полностью не поддерживается нашим SDK в текущем testnet.

#### Выводы <a href="#withdrawals" id="withdrawals"></a>

Пользователь совершает транзакцию в пользу моста на L2 путем вызова метода `withdraw`. Затем исполняются следующие действия:

* Токены на L2 сжигаются
* Отправляется сообщение L2 -> L1 с информацией о том, что вывод отправлен

После этого кто угодно может завершить вывож на мосту на L1, предоставив доказательства включения L2 -> L1 сообщения, и средства будут отправлены получателю вывода.

Для testnet'a мы автоматически финализируем все выводы, т.е. мы позаботимся о каждом выводе путем отправки транзакций на стороне L1, которые будут доказывать включение каждого сообщения.

